<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="layout :: head"> </head>
  <body>
    <header th:replace="layout :: header"></header>
    <div class="container">
      <div th:replace="layout :: alerts"></div>
      <h2>Ingreso de producto</h2>
      <form
        th:action="@{/productos/new_entry_save}"
        th:object="${producto}"
        method="POST"
      >
        <!-- <div class="form-group">
        <label for="inputProducto"></label>
        <select
          id="inputProducto"
          class="form-control"
          th:name="idProducto"
          th:field="*{id}"
        >
          <option
            th:each="prod : ${productos}"
            th:value="${prod.getId}"
            th:text="${prod.getDescrip}"
          ></option>
        </select>
      </div> -->

        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Descripcion</th>
              <th scope="col">Stock</th>
              <th scope="col">Precio</th>
              <th scope="col">Proveedor</th>
              <th scope="col">Categoria</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="prod : ${productos}">
              <th scope="row" class="align-middle" th:text="${prod.getId}"></th>
              <td class="align-middle" th:text="${prod.getDescrip}"></td>
              <td class="align-middle" th:text="${prod.getStock}"></td>
              <td class="align-middle" th:text="${prod.getPrecio}"></td>
              <td
                class="align-middle"
                th:text="${prod.getProveedor.getNombre}"
              ></td>
              <td
                class="align-middle"
                th:text="${prod.getCategoria.getDescripcion}"
              ></td>
              <td class="align-middle">
                <a
                  class="btn btn-primary btn-sm"
                  th:href="@{/productos/update/{id}(id=${prod.getId})}"
                  role="button"
                  >Editar</a
                >
                <a
                  class="btn btn-danger btn-sm"
                  th:href="@{/productos/delete/{id}(id=${prod.getId})}"
                  role="button"
                  >Eliminar</a
                >
              </td>
              <td>
                <form th:action="@{/productos/new_entry_save}" method="POST">
                  <input
                    type="hidden"
                    th:name="idProducto"
                    th:value="${prod.getId}"
                  />
                  <input
                    placeholder="Ingresar cantidad"
                    class="form-control"
                    type="text"
                    th:name="inputStock"
                    id="inputStock"
                  />
                  <div class="d-flex justify-content-center mt-3">
                    <button type="submit" class="btn btn-primary">
                      Realizar ingreso
                    </button>
                  </div>
                </form>
              </td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>
    <div th:replace="layout :: scripts"></div>
  </body>
</html>
